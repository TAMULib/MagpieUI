<br/>
<div class="row">
	<div class="col-9 col-lg-9">
		<div class="panel panel-default " ng-controller="DocumentController">			
			
			<div class="panel-heading">
				<h3 class="panel-title">Documents</h3>
			</div>
			
			<div class="panel-body" ng-if="isAnnotator()">			
				<table ng-table="tableParams" class="table table-hover table-condensed">					
					<tbody>					
						<tr ng-repeat="doc in $data">							
							<td data-title="'Filename'" sortable="'filename'">
								{{doc.filename}}
							</td>							
							<td data-title="'Status'" sortable="'status'" filter="{ 'status': 'text' }" class="text-center">
								{{doc.status}}
							</td>
							<td data-title="'Annotator'" sortable="'annotator'" class="text-center">								
								<span ng-if="!doc.annotator">
									<button ng-click="updateAnnotator(doc.filename, 'Assigned')">
										Claim
									</button>
								</span>								
								<span ng-if="doc.annotator">
									{{doc.annotator}}
								</span>								
							</td>						
						</tr>						
					</tbody>					
				</table>				
			</div>
			
			<div class="panel-body" ng-if="isAdmin() || isManager()">			
				<button ng-click="tableParams.sorting({})" class="btn btn-default">Clear sorting</button>&nbsp;&nbsp;
		        <button ng-click="tableParams.filter({})" class="btn btn-default">Clear filter</button><br/><br/>
		        
		        <!-- 
		        <p><strong>Sorting:</strong> {{tableParams.sorting()|json}}
		        <p><strong>Filter:</strong> {{tableParams.filter()|json}}
		         -->
		        		        
				<table ng-table="tableParams" show-filter="true" class="table table-hover table-condensed">					
					<tbody>					
						<tr ng-repeat="doc in $data">							
							<td data-title="'Filename'" sortable="'filename'" filter="{ 'filename': 'text' }">
								{{doc.filename}}
							</td>							
							<td data-title="'Status'" sortable="'status'" filter="{ 'status': 'text' }" class="text-center">
								{{doc.status}}
							</td>							
							<td data-title="'Annotator'" sortable="'annotator'" filter="{ 'annotator': 'text' }" class="text-center">
								<span ng-if="!doc.annotator && availableAnnotators().length > 0">								
									<select ng-model="doc.annotator" ng-change="updateAnnotator(doc.filename, 'Assigned', doc.annotator)" class="form-control">
										<option ng-repeat="annotator in availableAnnotators()" value="{{annotator}}">{{annotator.firstName}} {{annotator.lastName}}</option>
									</select>								
								</span>
								<span ng-if="!doc.annotator && availableAnnotators().length == 0">
									No Annotators
								</span>
								<span ng-if="doc.annotator">
									{{doc.annotator}}
								</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			
		</div>
	</div>
</div>
